<!-- stock_transfer_charge_report_templates.xml -->
<odoo>
  <data>
    <template id="stock_transfer_charge">
      <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
          <t t-call="web.external_layout">
            <div class="page">
              <h2 class="text-center">Traspaso: <t t-esc="o.picking"/></h2>
              <p><strong>Origen:</strong>  <t t-esc="o.origin"/></p>
              <p><strong>Destino:</strong> <t t-esc="o.dest"/></p>
              <p><strong>Estado:</strong>  <t t-esc="o.state"/></p>
              <p><strong>Tipo:</strong>    <t t-esc="o.type"/></p>

              <table class="table table-sm" border="1" cellpadding="4" cellspacing="0">
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th>Cantidad</th>
                    <th>UoM</th>
                    <th>Peso (g)</th>
                    <th>Coste Std.</th>
                    <th>Interno (CLP)</th>
                    <th>Subtotal Int.</th>
                  </tr>
                </thead>
                <tbody>
                  <tr t-foreach="docs" t-as="o">
                    <td><t t-esc="o.producto"/></td>
                    <td><t t-esc="o.qty"/></td>
                    <td><t t-esc="o.uom"/></td>
                    <td><t t-esc="o.peso"/></td>
                    <td><t t-esc="o.coste"/></td>
                    <td><t t-esc="o.precio_int"/></td>
                    <td><t t-esc="o.subtotal_int"/></td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <th colspan="6" style="text-align:right;">Total Interno:</th>
                    <th>
                      <t t-esc="sum(d['subtotal_int'] for d in docs)"/>
                    </th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </t>
        </t>
      </t>
    </template>
  </data>
</odoo>
