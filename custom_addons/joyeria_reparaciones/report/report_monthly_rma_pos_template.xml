<odoo>
  <template id="report_monthly_rma_pos_template">
    <!-- Usamos el layout estándar de reportes -->
    <t t-call="report.external_layout">
      <main class="page"><!-- ¡IMPORTANTE! debe haber este <main> -->
        <h1 style="text-align:center;">Reporte Mensual RMA + POS</h1>
        <p style="text-align:center;">
          <strong><t t-esc="date_start"/> → <t t-esc="date_end"/></strong>
        </p>
        <table class="table table-condensed">
          <thead>
            <tr>
              <th>Mes</th>
              <th>Total RMA</th>
              <th>Total POS</th>
              <th>Gran Total</th>
            </tr>
          </thead>
          <tbody>
            <t t-foreach="lines" t-as="l">
              <tr>
                <!-- Aquí ya no usamos l.month_name sino l['month_name'] -->
                <td><t t-esc="l['month_name']"/></td>
                <td><t t-esc="l['rma_total']"/></td>
                <td><t t-esc="l['pos_total']"/></td>
                <td>
                  <t t-esc="(l['rma_total'] or 0.0) + (l['pos_total'] or 0.0)"/>
                </td>
              </tr>
            </t>
          </tbody>
        </table>
      </main>
    </t>
  </template>
</odoo>
