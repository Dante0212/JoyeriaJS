<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <template id="report_deliveryslip_charge_extension" inherit_id="stock.report_delivery_document">
    <xpath expr="//div[@t-if='not o.signature']" position="before">
      <!-- == INICIO: Cargos Entre Talleres == -->
      <div class="page break-after mt32">
        <h2 class="text-center">Cargos Entre Talleres (Agrupado Mensual)</h2>
        <table class="table table-sm mt16">
          <thead>
            <tr>
              <th>Mes</th>
              <th>Taller Origen</th>
              <th>Taller Destino</th>
              <th class="text-right">Monto</th>
            </tr>
          </thead>
          <tbody>
            <t t-foreach="charge_lines" t-as="line">
              <tr>
                <td><t t-esc="line['month']"/></td>
                <td><t t-esc="line['origin']"/></td>
                <td><t t-esc="line['dest']"/></td>
                <td class="text-right"><t t-esc="'%.2f' % line['amount']"/></td>
              </tr>
            </t>
            <t t-if="not charge_lines">
              <tr>
                <td colspan="4" class="text-center">No hay cargos para mostrar.</td>
              </tr>
            </t>
          </tbody>
        </table>
      </div>
      <!-- == FIN: Cargos Entre Talleres == -->
    </xpath>
  </template>
</odoo>
